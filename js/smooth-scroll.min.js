(function(a,b){if(typeof define==="function"&&define.amd){define([],function(){return b(a)})}else{if(typeof exports==="object"){module.exports=b(a)}else{a.SmoothScroll=b(a)}}})(typeof global!=="undefined"?global:typeof window!=="undefined"?window:this,function(i){var n="querySelector" in document&&"addEventListener" in i&&"requestAnimationFrame" in i&&"closest" in i.Element.prototype;var g={ignore:"[data-scroll-ignore]",header:null,speed:500,offset:0,easing:"easeInOutCubic",customEasing:null,before:function(){},after:function(){}};var k=function(){var o={};var p=false;var q=0;var r=arguments.length;var t=function(u){for(var v in u){if(u.hasOwnProperty(v)){o[v]=u[v]}}};for(;q<r;q++){var s=arguments[q];t(s)}return o};var h=function(o){return parseInt(i.getComputedStyle(o).height,10)};var a=function(u){if(u.charAt(0)==="#"){u=u.substr(1)}var r=String(u);var t=r.length;var q=-1;var s;var o="";var p=r.charCodeAt(0);while(++q<t){s=r.charCodeAt(q);if(s===0){throw new InvalidCharacterError("Invalid character: the input contains U+0000.")}if((s>=1&&s<=31)||s==127||(q===0&&s>=48&&s<=57)||(q===1&&s>=48&&s<=57&&p===45)){o+="\\"+s.toString(16)+" ";continue}if(s>=128||s===45||s===95||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122){o+=r.charAt(q);continue}o+="\\"+r.charAt(q)}return"#"+o};var m=function(o,q){var p;if(o.easing==="easeInQuad"){p=q*q}if(o.easing==="easeOutQuad"){p=q*(2-q)}if(o.easing==="easeInOutQuad"){p=q<0.5?2*q*q:-1+(4-2*q)*q}if(o.easing==="easeInCubic"){p=q*q*q}if(o.easing==="easeOutCubic"){p=(--q)*q*q+1}if(o.easing==="easeInOutCubic"){p=q<0.5?4*q*q*q:(q-1)*(2*q-2)*(2*q-2)+1}if(o.easing==="easeInQuart"){p=q*q*q*q}if(o.easing==="easeOutQuart"){p=1-(--q)*q*q*q}if(o.easing==="easeInOutQuart"){p=q<0.5?8*q*q*q*q:1-8*(--q)*q*q*q}if(o.easing==="easeInQuint"){p=q*q*q*q*q}if(o.easing==="easeOutQuint"){p=1+(--q)*q*q*q*q}if(o.easing==="easeInOutQuint"){p=q<0.5?16*q*q*q*q*q:1+16*(--q)*q*q*q*q}if(!!o.customEasing){p=o.customEasing(q)}return p||q};var e=function(){return Math.max(document.documentElement.clientHeight,i.innerHeight||0)};var l=function(){return parseInt(i.getComputedStyle(document.documentElement).height,10)};var j=function(q,p,r){var o=0;if(q.offsetParent){do{o+=q.offsetTop;q=q.offsetParent}while(q)}o=Math.max(o-p-r,0);return Math.min(o,l()-e())};var c=function(o){return !o?0:(h(o)+o.offsetTop)};var f=function(o,q,p){if(p){return}o.focus();if(document.activeElement.id!==o.id){o.setAttribute("tabindex","-1");o.focus();o.style.outline="none"}i.scrollTo(0,q)};var d=function(o){if("matchMedia" in i&&i.matchMedia("(prefers-reduced-motion)").matches){return true}return false};var b=function(r,A){var v={};var q,s,w,p,t,o,x;v.cancelScroll=function(){cancelAnimationFrame(x)};v.animateScroll=function(G,I,Q){var B=k(q||g,Q||{});var F=Object.prototype.toString.call(G)==="[object Number]"?true:false;var N=F||!G.tagName?null:G;if(!F&&!N){return}var M=i.pageYOffset;if(B.header&&!p){p=document.querySelector(B.header)}if(!t){t=c(p)}var L=F?G:j(N,t,parseInt((typeof B.offset==="function"?B.offset():B.offset),10));var C=L-M;var P=l();var K=0;var D,O,H;var J=function(R,T){var S=i.pageYOffset;if(R==T||S==T||((M<T&&i.innerHeight+S)>=P)){v.cancelScroll();f(G,T,F);B.after(G,I);D=null;return true}};var E=function(R){if(!D){D=R}K+=R-D;O=(K/parseInt(B.speed,10));O=(O>1)?1:O;H=M+(C*m(B,O));i.scrollTo(0,Math.floor(H));if(!J(H,L)){i.requestAnimationFrame(E);D=R}};if(i.pageYOffset===0){i.scrollTo(0,0)}B.before(G,I);v.cancelScroll();i.requestAnimationFrame(E)};var z=function(B){var D;try{D=a(decodeURIComponent(i.location.hash))}catch(C){D=a(i.location.hash)}if(!s){return}s.id=s.getAttribute("data-scroll-id");v.animateScroll(s,w);s=null;w=null};var y=function(B){if(d(q)){return}if(B.button!==0||B.metaKey||B.ctrlKey){return}w=B.target.closest(r);if(!w||w.tagName.toLowerCase()!=="a"||B.target.closest(q.ignore)){return}if(w.hostname!==i.location.hostname||w.pathname!==i.location.pathname||!/#/.test(w.href)){return}var D;try{D=a(decodeURIComponent(w.hash))}catch(C){D=a(w.hash)}if(D==="#"){B.preventDefault();s=document.body;var E=s.id?s.id:"smooth-scroll-top";s.setAttribute("data-scroll-id",E);s.id="";if(i.location.hash.substring(1)===E){z()}else{i.location.hash=E}return}s=document.querySelector(D);if(!s){return}s.setAttribute("data-scroll-id",s.id);s.id="";if(w.hash===i.location.hash){B.preventDefault();z()}};var u=function(B){if(!o){o=setTimeout(function(){o=null;t=c(p)},66)}};v.destroy=function(){if(!q){return}document.removeEventListener("click",y,false);i.removeEventListener("resize",u,false);v.cancelScroll();q=null;s=null;w=null;p=null;t=null;o=null;x=null};v.init=function(B){if(!n){return}v.destroy();q=k(g,B||{});p=q.header?document.querySelector(q.header):null;t=c(p);document.addEventListener("click",y,false);i.addEventListener("hashchange",z,false);if(p){i.addEventListener("resize",u,false)}};v.init(A);return v};return b});