(function(a){a.fn.enllax=function(e){var b=a(window).height();var c=a(document).height();var d=a.extend({ratio:0,type:"background",direction:"vertical"},e);var f=a("[data-enllax-ratio]");f.each(function(){var l;var n;var h;var m=a(this);var i=m.offset().top;var q=m.outerHeight();var k=m.data("enllax-ratio");var o=m.data("enllax-type");var p=m.data("enllax-direction");if(k){l=k}else{l=d.ratio}if(o){n=o}else{n=d.type}if(p){h=p}else{h=d.direction}var j=Math.round(i*l);var g=Math.round((i-(b/2)+q)*l);if(n=="background"){if(h=="vertical"){m.css({"background-position":"center "+-j+"px"})}else{if(h=="horizontal"){m.css({"background-position":-j+"px center"})}}}else{if(n=="foreground"){if(h=="vertical"){m.css({"-webkit-transform":"translateY("+g+"px)","-moz-transform":"translateY("+g+"px)",transform:"translateY("+g+"px)"})}else{if(h=="horizontal"){m.css({"-webkit-transform":"translateX("+g+"px)","-moz-transform":"translateX("+g+"px)",transform:"translateX("+g+"px)"})}}}}a(window).on("scroll",function(){var r=a(this).scrollTop();j=Math.round((i-r)*l);g=Math.round(((i-(b/2)+q)-r)*l);if(n=="background"){if(h=="vertical"){m.css({"background-position":"center "+-j+"px"})}else{if(h=="horizontal"){m.css({"background-position":-j+"px center"})}}}else{if((n=="foreground")&&(r<c)){if(h=="vertical"){m.css({"-webkit-transform":"translateY("+g+"px)","-moz-transform":"translateY("+g+"px)",transform:"translateY("+g+"px)"})}else{if(h=="horizontal"){m.css({"-webkit-transform":"translateX("+g+"px)","-moz-transform":"translateX("+g+"px)",transform:"translateX("+g+"px)"})}}}}})})}})(jQuery);